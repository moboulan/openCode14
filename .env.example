# ============================================================
# Incident & On-Call Management Platform — Environment Config
# The Makefile auto-copies this to .env on first run.
# Override values in .env as needed (it is git-ignored).
# ============================================================

# ── Database ─────────────────────────────────────────────────
POSTGRES_DB=incident_platform
POSTGRES_USER=postgres
# Auth method: 'trust' = no password (local dev), 'md5' or 'scram-sha-256' = password required
POSTGRES_HOST_AUTH_METHOD=trust
# Set POSTGRES_PASSWORD only when using md5/scram auth:
# POSTGRES_PASSWORD=

# DATABASE_URL is built by docker-compose from the variables above.
# Only set this if running services outside of docker-compose.
# DATABASE_URL=postgresql://postgres@localhost:5432/incident_platform

# ── Alert Ingestion Service (:8001) ──────────────────────────
ALERT_SERVICE_PORT=8001
CORRELATION_WINDOW_MINUTES=5

# ── Incident Management Service (:8002) ─────────────────────
INCIDENT_SERVICE_PORT=8002
INCIDENT_SERVICE_URL=http://incident-management:8002

# ── On-Call & Escalation Service (:8003) ─────────────────────
ONCALL_SERVICE_PORT=8003
ONCALL_SERVICE_URL=http://oncall-service:8003

# ── Notification Service (:8004) ─────────────────────────────
NOTIFICATION_SERVICE_PORT=8004
NOTIFICATION_SERVICE_URL=http://notification-service:8004

# ── SMTP Email (Notification Service) ────────────────────────
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_SENDER=omarafidi2005@gmail.com
SMTP_PASSWORD=***REMOVED***

# ── Logging ──────────────────────────────────────────────────
LOG_LEVEL=INFO

# ── Grafana ──────────────────────────────────────────────────
# Grafana defaults to admin/admin on first run and prompts to change.
# Set these only if you want to override:
# GF_SECURITY_ADMIN_USER=admin
# GF_SECURITY_ADMIN_PASSWORD=

# ── Prometheus ───────────────────────────────────────────────
# PROMETHEUS_RETENTION=7d

# ── CORS (comma-separated origins) ──────────────────────────
# CORS_ORIGINS=http://localhost:8080,http://localhost:3000

# ── Database Pool ────────────────────────────────────────────
# DB_POOL_MIN=1
# DB_POOL_MAX=10

# ── HTTP Client Timeout (seconds) ───────────────────────────
# HTTP_CLIENT_TIMEOUT=10.0

# ── Health-Check Thresholds (percent) ────────────────────────
# HEALTH_MEMORY_THRESHOLD=90.0
# HEALTH_DISK_THRESHOLD=90.0

# ── Application Version ─────────────────────────────────────
# APP_VERSION=1.0.0

# ── Prometheus Histogram Buckets (comma-separated seconds) ──
# MTTA_BUCKETS=30,60,120,300,600,1800,3600
# MTTR_BUCKETS=300,600,1800,3600,7200,14400,28800

# ── Frontend (set in web-ui build via VITE_ prefix) ─────────
# VITE_POLL_INTERVAL=30000
# VITE_METRICS_POLL_INTERVAL=15000
# VITE_API_TIMEOUT=10000
# VITE_WS_PING_INTERVAL=30000
# VITE_WS_RECONNECT_INTERVAL=3000

